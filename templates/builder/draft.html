{% extends 'base.html' %}
{% load static %}

{% block content %}
{% if search == NO_SEARCH_TERM %}
<h2 class="my-4"><a href="{{ draft_url }}">{{ codelist_name }}</a></h2>
<h3 class="mb-4">No search term</h3>
{% elif search %}
<h2 class="my-4"><a href="{{ draft_url }}">{{ codelist_name }}</a></h2>
<h3 class="mb-4">Search term: "{{ search.term }}"</h3>
{% else %}
<h2 class="my-4">{{ codelist_name }}</h2>
{% endif %}
<hr />

<div id="codelist-builder-container"></div>
{% endblock %}

{% block extra_js %}
{{ searches|json_script:"searches" }}
{{ filter|json_script:"filter" }}
{{ tree_tables|json_script:"tree-tables" }}
{{ code_to_term|json_script:"code-to-term" }}
{{ code_to_status|json_script:"code-to-status" }}
{{ all_codes|json_script:"all-codes" }}
{{ included_codes|json_script:"included-codes" }}
{{ excluded_codes|json_script:"excluded-codes" }}
{{ parent_map|json_script:"parent-map" }}
{{ child_map|json_script:"child-map" }}
{{ is_editable|json_script:"is-editable" }}
{{ update_url|json_script:"update-url" }}
{{ search_url|json_script:"search-url" }}
{{ download_url|json_script:"download-url" }}
{{ download_dmd_url|json_script:"download-dmd-url" }}

<script src="{% static 'js/builder.bundle.js' %}"></script>
{% endblock %}
